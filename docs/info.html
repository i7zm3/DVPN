<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DVPN | Distributed Secure Mesh</title>
  <link rel="icon" type="image/png" href="../assets/dvpn-tray.png" />
  <style>
    :root {
      --bg: #070d16;
      --panel: #0f1a2a;
      --panel-soft: #14253d;
      --line: #29415f;
      --text: #e8f4ff;
      --muted: #a5bdd6;
      --accent: #63d7d4;
      --ok: #7df2a1;
      --warn: #ffd27a;
      --danger: #ff8d8d;
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; }
    body {
      font-family: "Segoe UI", "SF Pro Text", "Noto Sans", sans-serif;
      color: var(--text);
      background:
        radial-gradient(950px 460px at 88% -5%, #1f3f76 0%, transparent 60%),
        radial-gradient(680px 340px at -8% 0%, #113054 0%, transparent 62%),
        var(--bg);
      line-height: 1.5;
    }
    .wrap { max-width: 1080px; margin: 0 auto; padding: 24px 18px 56px; }
    .hero {
      border: 1px solid var(--line);
      border-radius: 18px;
      background: linear-gradient(160deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      padding: 22px;
      display: grid;
      gap: 16px;
      grid-template-columns: 88px 1fr;
      box-shadow: 0 20px 50px rgba(0,0,0,.35);
    }
    .hero img {
      width: 88px;
      height: 88px;
      border-radius: 20px;
      border: 1px solid var(--line);
      background: #0c1828;
      padding: 10px;
    }
    h1 { margin: 0 0 6px; font-size: 2rem; letter-spacing: .2px; }
    h2 { margin: 26px 0 10px; font-size: 1.2rem; }
    h3 { margin: 0 0 6px; font-size: 1rem; }
    p, li { color: var(--muted); }
    .chips { margin-top: 10px; }
    .chip {
      display: inline-block;
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 5px 11px;
      margin: 0 7px 7px 0;
      font-size: .85rem;
      color: var(--text);
      background: rgba(255,255,255,.03);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 12px;
    }
    .card {
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.025), rgba(255,255,255,.01));
    }
    .columns {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
      gap: 14px;
    }
    .panel {
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 14px;
      background: rgba(255,255,255,.02);
    }
    .ok { color: var(--ok); }
    .warn { color: var(--warn); }
    .danger { color: var(--danger); }
    code {
      color: var(--text);
      background: rgba(0,0,0,.25);
      padding: 2px 5px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,.08);
    }
    .foot {
      margin-top: 26px;
      color: #87a3c1;
      font-size: .9rem;
      border-top: 1px dashed rgba(255,255,255,.16);
      padding-top: 14px;
    }
    @media (max-width: 700px) {
      .hero { grid-template-columns: 1fr; text-align: left; }
      .hero img { width: 72px; height: 72px; }
      h1 { font-size: 1.55rem; }
    }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="hero">
      <img src="../assets/dvpn-tray.png" alt="DVPN tray icon" />
      <div>
        <h1>DVPN Distributed Secure Mesh</h1>
        <p>
          Every install becomes a WireGuard-capable node in a rotating pool. Connections are end-to-end encrypted,
          payment-gated, and switched seamlessly on an interval for stronger anonymity.
        </p>
        <div class="chips">
          <span class="chip">Distributed Pool</span>
          <span class="chip">E2E WireGuard Encryption</span>
          <span class="chip">Secure Pool Handshake</span>
          <span class="chip">Paid Access Gate</span>
          <span class="chip">Low-Retention Runtime</span>
        </div>
      </div>
    </section>

    <h2>How It Works</h2>
    <div class="grid">
      <article class="card">
        <h3>1. Payment Gate First</h3>
        <p>Client verifies active payment state before pool registration, provider fetch, and provider approval.</p>
      </article>
      <article class="card">
        <h3>2. Provider Handshake</h3>
        <p>Pool endpoints are validated, non-public peers are rejected by default, and approval requires tokened requests.</p>
      </article>
      <article class="card">
        <h3>3. Encrypted Tunnel Up</h3>
        <p>WireGuard tunnel is built with node listen port and per-peer keys. Each node can operate as a server-capable endpoint.</p>
      </article>
      <article class="card">
        <h3>4. Seamless Rotation</h3>
        <p>Endpoint rotates every few minutes plus jitter. Failed paths recycle automatically to maintain continuity.</p>
      </article>
    </div>

    <h2>Security Details</h2>
    <div class="columns">
      <section class="panel">
        <h3>Control-Plane Security</h3>
        <ul>
          <li><span class="ok">TLS</span> for pool/payment/orchestrator transport.</li>
          <li><span class="ok">Token-gated pool endpoints</span> via request headers.</li>
          <li><span class="ok">Payment-enforced routing policy</span> before connection lifecycle.</li>
          <li><span class="warn">Optional strict allowlist</span> via Worker paid-token list.</li>
        </ul>
      </section>
      <section class="panel">
        <h3>Data-Plane Security</h3>
        <ul>
          <li><span class="ok">WireGuard end-to-end encryption</span> for tunnel traffic.</li>
          <li>Per-node keys; each node publishes a listen port for peer negotiation.</li>
          <li>Private/local endpoints blocked unless test override (<code>ALLOW_PRIVATE_ENDPOINTS=true</code>).</li>
          <li>Auto recycle on peer/route failure.</li>
        </ul>
      </section>
      <section class="panel">
        <h3>Data Retention</h3>
        <ul>
          <li><span class="ok">No long-lived runtime logs by default</span>.</li>
          <li><code>LOG_STDOUT=false</code> and <code>AUDIT_ENABLED=false</code> out of the box.</li>
          <li>Control endpoint exposes only current pool + connection state snapshot.</li>
          <li><span class="danger">Never commit secrets</span> (env/token artifacts are gitignored).</li>
        </ul>
      </section>
    </div>

    <h2>Install</h2>
    <p>
      Use <code>INSTALL.md</code> for one-click source install, and portable distribution install.
      Portable bundle includes image tar, runners, and docs in one package.
    </p>

    <h2>Included Artifacts (Portable)</h2>
    <ul>
      <li><code>dvpn-node-image.tar.gz</code></li>
      <li><code>one-click-run.sh</code> (Linux/macOS)</li>
      <li><code>one-click-run.ps1</code> (Windows)</li>
      <li><code>README.md</code>, <code>INSTALL.md</code>, <code>docs/info.html</code></li>
    </ul>

    <p class="foot">
      DVPN is designed for distributed operation, end-to-end encrypted transport, and secure pool handshake with paid access controls.
    </p>
  </main>
</body>
</html>
